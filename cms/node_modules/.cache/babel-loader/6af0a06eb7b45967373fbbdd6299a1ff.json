{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jonat\\\\OneDrive\\\\Documentos\\\\Documentos Escolares\\\\Trabajo\\\\Proyectos\\\\cms\\\\src\\\\pages\\\\prospectos\\\\ModalContainer.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { rutaAPI } from \"../../config/Config\";\nimport ProspectoModal from \"./presentation/ProspectoModal\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport $ from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Modalcontainer({\n  prospecto\n}) {\n  _s();\n\n  const [data, setData] = useState({});\n  const [error, setError] = useState(null);\n  const [observaCount, setObservaCount] = useState(0);\n  const MySwal = withReactContent(Swal);\n  useEffect(() => {\n    const fetchResource = async () => {\n      try {\n        let res = await fetch(`${rutaAPI}/mostrar-prospecto/${prospecto}`);\n        let data = await res.json();\n        setData(data.data[0]);\n      } catch (error) {\n        setError(error);\n      }\n    };\n\n    fetchResource();\n  }, [prospecto]);\n\n  const handleSubmit = async e => {\n    MySwal.fire({\n      title: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Hello World\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 14\n      }, this),\n      footer: \"Copyright 2018\",\n      didOpen: () => {\n        // `MySwal` is a subclass of `Swal`\n        //   with all the same instance & static methods\n        MySwal.clickConfirm();\n      }\n    }).then(() => {\n      return MySwal.fire( /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Shorthand works too\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 26\n      }, this));\n    });\n    let config = {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    let res = await fetch(`${rutaAPI}/edit-prospecto/${data._id}`, config);\n    let json = await res.json();\n    console.log(json);\n\n    if (json.status == 200) {\n      window.location.reload(false);\n    }\n  };\n\n  const handleChange = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n    let estado = e.target.value;\n\n    if (e.target.name == \"Prospect_Status\" && estado == \"Rechazado\" && observaCount < 1) {\n      console.log(\"Entro el IF\");\n      setObservaCount(observaCount + 1);\n      $(\"#observaciones\").fadeIn();\n    } else {\n      if (e.target.name == \"Prospect_Status\" && estado == \"Autorizado\") {\n        $(\"#observaciones\").fadeOut();\n        setObservaCount(0);\n      }\n    }\n  };\n\n  const handleOnClick = () => {\n    console.log(\"hiciste click\");\n    $(\"#observaciones\").fadeOut();\n    setObservaCount(0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProspectoModal, {\n    onChange: handleChange,\n    onSubmit: handleSubmit,\n    onClick: handleOnClick,\n    ...data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Modalcontainer, \"1LPDYe1snzP6ggJFp6KRJ7sx3CM=\");\n\n_c = Modalcontainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modalcontainer\");","map":{"version":3,"sources":["C:/Users/jonat/OneDrive/Documentos/Documentos Escolares/Trabajo/Proyectos/cms/src/pages/prospectos/ModalContainer.jsx"],"names":["React","useState","useEffect","rutaAPI","ProspectoModal","Swal","withReactContent","$","Modalcontainer","prospecto","data","setData","error","setError","observaCount","setObservaCount","MySwal","fetchResource","res","fetch","json","handleSubmit","e","fire","title","footer","didOpen","clickConfirm","then","config","method","headers","Accept","body","JSON","stringify","_id","console","log","status","window","location","reload","handleChange","target","name","value","estado","fadeIn","fadeOut","handleOnClick"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { rutaAPI } from \"../../config/Config\";\r\n\r\nimport ProspectoModal from \"./presentation/ProspectoModal\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\nimport $ from \"jquery\";\r\n\r\nexport default function Modalcontainer({ prospecto }) {\r\n  const [data, setData] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [observaCount, setObservaCount] = useState(0);\r\n  const MySwal = withReactContent(Swal);\r\n\r\n  useEffect(() => {\r\n    const fetchResource = async () => {\r\n      try {\r\n        let res = await fetch(`${rutaAPI}/mostrar-prospecto/${prospecto}`);\r\n        let data = await res.json();\r\n\r\n        setData(data.data[0]);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    };\r\n    fetchResource();\r\n  }, [prospecto]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    MySwal.fire({\r\n      title: <p>Hello World</p>,\r\n      footer: \"Copyright 2018\",\r\n      didOpen: () => {\r\n        // `MySwal` is a subclass of `Swal`\r\n        //   with all the same instance & static methods\r\n        MySwal.clickConfirm();\r\n      },\r\n    }).then(() => {\r\n      return MySwal.fire(<p>Shorthand works too</p>);\r\n    });\r\n\r\n    let config = {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n    let res = await fetch(`${rutaAPI}/edit-prospecto/${data._id}`, config);\r\n    let json = await res.json();\r\n    console.log(json);\r\n\r\n    if (json.status == 200) {\r\n      window.location.reload(false);\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    setData({ ...data, [e.target.name]: e.target.value });\r\n\r\n    let estado = e.target.value;\r\n\r\n    if (\r\n      e.target.name == \"Prospect_Status\" &&\r\n      estado == \"Rechazado\" &&\r\n      observaCount < 1\r\n    ) {\r\n      console.log(\"Entro el IF\");\r\n      setObservaCount(observaCount + 1);\r\n\r\n      $(\"#observaciones\").fadeIn();\r\n    } else {\r\n      if (e.target.name == \"Prospect_Status\" && estado == \"Autorizado\") {\r\n        $(\"#observaciones\").fadeOut();\r\n        setObservaCount(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOnClick = () => {\r\n    console.log(\"hiciste click\");\r\n    $(\"#observaciones\").fadeOut();\r\n    setObservaCount(0);\r\n  };\r\n\r\n  return (\r\n    <ProspectoModal\r\n      onChange={handleChange}\r\n      onSubmit={handleSubmit}\r\n      onClick={handleOnClick}\r\n      {...data}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}