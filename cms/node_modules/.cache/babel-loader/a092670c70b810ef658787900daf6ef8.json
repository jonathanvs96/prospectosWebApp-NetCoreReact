{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jonat\\\\OneDrive\\\\Documentos\\\\Documentos Escolares\\\\Trabajo\\\\Talpier-Proyecto-MERN\\\\cms\\\\src\\\\pages\\\\prospectos\\\\ProspectoNew.jsx\";\nimport React, { Fragment } from \"react\";\nimport Encabezado from \"../../components/Encabezado\";\nimport ProspectoForm from \"./ProspectoForm\";\nimport { rutaAPI } from \"../../config/Config\";\nimport $ from \"jquery\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProspectoNew extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      form: {\n        name: \"\",\n        fName: \"\",\n        lName: \"\",\n        calle: \"\",\n        numeroDomicilio: \"\",\n        colonia: \"\",\n        codigoPostal: \"\",\n        telefono: \"\",\n        rfc: \"\"\n      },\n      documento: null,\n      error: null\n    };\n\n    this.handleChange = e => {\n      if (e.target.type == \"file\") {\n        let documento = $(\"#Prospecto_Documento\").get(0).files[0];\n        this.setState({\n          documento: documento\n        });\n      } else {\n        this.setState({\n          form: { ...this.state.form,\n            [e.target.name]: e.target.value\n          }\n        });\n      }\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      Swal.fire({\n        title: \"Â¿Crear Nuevo Prospecto?\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Confirmar\"\n      }).then(async result => {\n        if (result.value) {\n          var formData = new FormData();\n          formData.append(\"documento\", this.state.documento);\n          formData.append(\"Prospect_Name\", this.state.form.Prospect_Name);\n          formData.append(\"Prospect_FName\", this.state.form.Prospect_FName);\n          formData.append(\"Prospect_LName\", this.state.form.Prospect_LName);\n          formData.append(\"Prospect_Calle\", this.state.form.Prospect_Calle);\n          formData.append(\"Prospect_NumDom\", this.state.form.Prospect_NumDom);\n          formData.append(\"Prospect_Col\", this.state.form.Prospect_Col);\n          formData.append(\"Prospect_PostCode\", this.state.form.Prospect_PostCode);\n          formData.append(\"Prospect_Tel\", this.state.form.Prospect_Tel);\n          formData.append(\"Prospect_RFC\", this.state.form.Prospect_RFC);\n          let config = {\n            method: \"POST\",\n            body: formData\n          };\n          let res = await fetch(`${rutaAPI}/crear-prospecto`, config);\n          let json = await res.json();\n\n          if (json.status == 200) {\n            Swal.fire({\n              icon: \"success\",\n              title: \"Creado con Exito\",\n              text: json.mensaje,\n              showConfirmButton: true,\n              confirmButtonText: \"Aceptar\",\n              confirmButtonColor: \"#3085d6\"\n            }).then(result => {\n              if (result.value) {\n                this.props.history.push(\"/\");\n              }\n            });\n          } else {\n            Swal.fire({\n              icon: \"error\",\n              title: json.status,\n              text: json.mensaje,\n              showConfirmButton: true,\n              confirmButtonText: \"Cerrar\",\n              confirmButtonColor: \"#d33\"\n            });\n          }\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Encabezado, {\n        titulo: \"Nuevos Prospectos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-primary card-outline\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(ProspectoForm, {\n              onChange: this.handleChange,\n              form: this.state.form,\n              onSubmit: this.handleSubmit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ProspectoNew;","map":{"version":3,"sources":["C:/Users/jonat/OneDrive/Documentos/Documentos Escolares/Trabajo/Talpier-Proyecto-MERN/cms/src/pages/prospectos/ProspectoNew.jsx"],"names":["React","Fragment","Encabezado","ProspectoForm","rutaAPI","$","Swal","ProspectoNew","Component","state","form","name","fName","lName","calle","numeroDomicilio","colonia","codigoPostal","telefono","rfc","documento","error","handleChange","e","target","type","get","files","setState","value","handleSubmit","preventDefault","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","formData","FormData","append","Prospect_Name","Prospect_FName","Prospect_LName","Prospect_Calle","Prospect_NumDom","Prospect_Col","Prospect_PostCode","Prospect_Tel","Prospect_RFC","config","method","body","res","fetch","json","status","text","mensaje","showConfirmButton","props","history","push","render"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport Encabezado from \"../../components/Encabezado\";\r\nimport ProspectoForm from \"./ProspectoForm\";\r\nimport { rutaAPI } from \"../../config/Config\";\r\nimport $ from \"jquery\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nclass ProspectoNew extends React.Component {\r\n  state = {\r\n    form: {\r\n      name: \"\",\r\n      fName: \"\",\r\n      lName: \"\",\r\n      calle: \"\",\r\n      numeroDomicilio: \"\",\r\n      colonia: \"\",\r\n      codigoPostal: \"\",\r\n      telefono: \"\",\r\n      rfc: \"\",\r\n    },\r\n    documento: null,\r\n    error: null,\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    if (e.target.type == \"file\") {\r\n      let documento = $(\"#Prospecto_Documento\").get(0).files[0];\r\n      this.setState({ documento: documento });\r\n    } else {\r\n      this.setState({\r\n        form: { ...this.state.form, [e.target.name]: e.target.value },\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: \"Â¿Crear Nuevo Prospecto?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirmar\",\r\n    }).then(async (result) => {\r\n      if (result.value) {\r\n        var formData = new FormData();\r\n        formData.append(\"documento\", this.state.documento);\r\n        formData.append(\"Prospect_Name\", this.state.form.Prospect_Name);\r\n        formData.append(\"Prospect_FName\", this.state.form.Prospect_FName);\r\n        formData.append(\"Prospect_LName\", this.state.form.Prospect_LName);\r\n        formData.append(\"Prospect_Calle\", this.state.form.Prospect_Calle);\r\n        formData.append(\"Prospect_NumDom\", this.state.form.Prospect_NumDom);\r\n        formData.append(\"Prospect_Col\", this.state.form.Prospect_Col);\r\n        formData.append(\"Prospect_PostCode\", this.state.form.Prospect_PostCode);\r\n        formData.append(\"Prospect_Tel\", this.state.form.Prospect_Tel);\r\n        formData.append(\"Prospect_RFC\", this.state.form.Prospect_RFC);\r\n\r\n        let config = {\r\n          method: \"POST\",\r\n          body: formData,\r\n        };\r\n        let res = await fetch(`${rutaAPI}/crear-prospecto`, config);\r\n        let json = await res.json();\r\n\r\n        if (json.status == 200) {\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Creado con Exito\",\r\n            text: json.mensaje,\r\n            showConfirmButton: true,\r\n            confirmButtonText: \"Aceptar\",\r\n            confirmButtonColor: \"#3085d6\",\r\n          }).then((result) => {\r\n            if (result.value) {\r\n              this.props.history.push(\"/\");\r\n            }\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: json.status,\r\n            text: json.mensaje,\r\n            showConfirmButton: true,\r\n            confirmButtonText: \"Cerrar\",\r\n            confirmButtonColor: \"#d33\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Encabezado titulo=\"Nuevos Prospectos\" />\r\n        <div className=\"row\">\r\n          <div className=\"card card-primary card-outline\">\r\n            <div className=\"card-header\"></div>\r\n            <div className=\"card-body\">\r\n              <ProspectoForm\r\n                onChange={this.handleChange}\r\n                form={this.state.form}\r\n                onSubmit={this.handleSubmit}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProspectoNew;\r\n"]},"metadata":{},"sourceType":"module"}